{"version":3,"sources":["components/deleteAuthor.js","views/Main.js","components/AuthorForm.js","views/NewAuthor.js","views/EditAuthor.js","App.js","reportWebVitals.js","index.js"],"names":["props","authorId","successCallback","onClick","e","axios","delete","then","res","className","useState","authors","setAuthors","loaded","setLoaded","useEffect","get","data","catch","err","console","log","to","map","author","idx","name","_id","filter","setName","onSubmitProp","onSubmit","type","value","onChange","target","NewAuthor","errors","setErrors","AuthorForm","preventDefault","post","status","navigate","errorResponse","response","errorArr","Object","keys","key","push","message","EditAuthor","id","idCorrect","i","length","realAuthor","put","App","Main","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.930f722f.chunk.js","sourcesContent":["import React from 'react'\r\nimport axios from 'axios';\r\nexport default props => {\r\n    const { authorId, successCallback } = props;\r\n    const deleteAuthor = e => {\r\n        axios.delete(`http://localhost:8000/api/authors/delete/${authorId}`)\r\n            .then(res=>{\r\n                successCallback();\r\n            })\r\n    }\r\n    return (\r\n        <button onClick={deleteAuthor} className=\"btn btn-danger\">\r\n            Delete\r\n        </button>\r\n    )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { Link } from '@reach/router';\r\nimport axios from 'axios';\r\nimport DeleteButton from '../components/deleteAuthor';\r\n\r\nexport default () => {\r\n    const [authors, setAuthors] = useState([]);\r\n    const [loaded, setLoaded] = useState(false);\r\n    useEffect(()=>{\r\n        axios.get('http://localhost:8000/api/authors')\r\n            .then(res=>{\r\n                setAuthors(res.data.authors);\r\n                setLoaded(true);\r\n            })\r\n            .catch(err => console.log(err));\r\n    },[authors]);\r\n    const removeFromDom = authorId => {\r\n        setAuthors(authors.filter(author => author._id != authorId))\r\n    }\r\n    return (\r\n        <div>\r\n            <Link to=\"/new\">Add an Author</Link>\r\n            <div className=\"container\">\r\n                <table className=\"table table-bordered\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Author</th>\r\n                            <th>Actions</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {loaded ?\r\n                        authors.map( (author, idx) => {\r\n                            return (\r\n                                <tr key={idx}>\r\n                                    <td>{author.name}</td>\r\n                                    <td><Link to={`/edit/${author._id}`} className=\"btn btn-warning\">Edit</Link> <DeleteButton authorId={author._id} successCallback={()=>removeFromDom(author._id)}/></td>\r\n                                </tr>\r\n                            )\r\n                        }\r\n                        )\r\n                        : <tr>\r\n                        <td>Loading...</td>\r\n                        <td>Loading...</td>\r\n                        </tr>\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\n\r\nexport default props => {\r\n    const {name, setName, onSubmitProp} = props;\r\n    return (\r\n        <form onSubmit={onSubmitProp}>\r\n            <p>\r\n                <label>Name</label><br/>\r\n                <input \r\n                    type=\"text\" \r\n                    name=\"name\" value={name} \r\n                    onChange={(e) => { setName(e.target.value) }}/>\r\n            </p>\r\n            <input type=\"submit\" value=\"Submit\"/>\r\n        </form>\r\n    )\r\n}\r\n\r\n","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport AuthorForm from '../components/AuthorForm';\r\nimport { Link, navigate } from '@reach/router';\r\n\r\nconst NewAuthor = () => {\r\n    const [errors, setErrors] = useState([]);\r\n    const [name, setName] = useState(\"\");\r\n    const createAuthor = e => {\r\n        e.preventDefault();\r\n        axios.post(`http://localhost:8000/api/authors/new`, {name})\r\n            .then(res=>{\r\n                console.log(res);\r\n                console.log(\"RES STATUS-->\", res.status);\r\n                if (res.status == 200) {\r\n                    navigate(\"/\");\r\n                }\r\n            })\r\n            .catch(err=>{\r\n                console.log(\"we in the catch!!\", errors)\r\n                const errorResponse = err.response.data.errors; // Get the errors from err.response.data\r\n                const errorArr = []; // Define a temp error array to push the messages in\r\n                for (const key of Object.keys(errorResponse)) { // Loop through all errors and get the messages\r\n                    errorArr.push(errorResponse[key].message)\r\n                }\r\n                // Set Errors\r\n                setErrors(errorArr);\r\n            })\r\n    }\r\n    return (\r\n        <div>\r\n            <Link to=\"/\">Home</Link>\r\n            <h4>Add a new author:</h4>\r\n            {errors.map((err, idx) => <p className=\"text-danger\" key={idx}>{err}</p>)}\r\n            <AuthorForm onSubmitProp={createAuthor} name={name} setName={setName}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NewAuthor;","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Link, navigate } from '@reach/router';\r\nimport AuthorForm from '../components/AuthorForm';\r\n\r\nconst EditAuthor = (props) => {\r\n    const { id } = props;\r\n    const [name, setName] =useState(\"\");\r\n    const [errors, setErrors] = useState(\"\");\r\n    let idCorrect = false;\r\n    const [authors, setAuthors] = useState([]);\r\n    useEffect(() => {\r\n        axios.get(`http://localhost:8000/api/authors/${id}`)\r\n            .then(res => {\r\n                setName(res.data.author.name);\r\n            })\r\n            .catch(err => console.log(err))\r\n    }, []);\r\n    useEffect(()=>{\r\n        axios.get('http://localhost:8000/api/authors')\r\n            .then(res=>{\r\n                setAuthors(res.data.authors);\r\n            })\r\n            .catch(err => console.log(err));\r\n    },[authors]);\r\n    const updateAuthor = e => {\r\n        e.preventDefault();\r\n        axios.put(`http://localhost:8000/api/authors/update/${id}`, {name})\r\n            .then(res => {console.log(res)\r\n                if (res.data.author) {\r\n                    navigate(\"/\")\r\n                }\r\n                else {\r\n                    setErrors(res.data.name.message)\r\n                }\r\n            })\r\n            .catch(err => console.log(err));\r\n    };\r\n    const realAuthor = () => {\r\n        for (let i = 0; i < authors.length; i++) {\r\n            if (id == authors[i]._id) {\r\n                return idCorrect = true;\r\n            }\r\n        }\r\n        idCorrect = false;\r\n    }\r\n    realAuthor();\r\n    if (idCorrect == true) {\r\n        return (\r\n            <div>\r\n                <Link to=\"/\">Home</Link>\r\n                <h4>Edit this author:</h4>\r\n                {errors ? <p className=\"text-danger\">{errors}</p> : \"\"}\r\n                <AuthorForm onSubmitProp={updateAuthor} name={name} setName={setName}/>\r\n            </div>\r\n        );\r\n    }\r\n    else {\r\n        return (\r\n            <div>\r\n                <Link to=\"/\">Home</Link>\r\n                <h3>We're sorry, but we could not find the author you are looking for.</h3>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default EditAuthor;","import React from 'react';\nimport './App.css';\nimport { Router } from '@reach/router';\nimport Main from './views/Main';\nimport NewAuthor from './views/NewAuthor';\nimport EditAuthor from './views/EditAuthor';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <h1>Favorite Authors</h1>\n      <Router>\n        <Main path=\"/\"/>\n        <NewAuthor path=\"/new\"/>\n        <EditAuthor path=\"/edit/:id\"/>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}